# RBI-chatbot

## 🧠 RBI Policy & Data Q&A System using FastAPI + LangChain + ChromaDB + Groq

This project sets up a FastAPI backend that allows you to ask questions related to **RBI banking policies**, **statistical banking data**, and also pulls **relevant web results** using Google Search. It uses vector databases and large language models to generate precise, relevant answers.

---

### 🏗️ Features

- 💬 Ask questions and get answers from 33 official RBI Master Circulars.
- 📊 Query large financial data PDFs for insights.
- 🌐 Get concise and useful summaries from across the web using Google Search + LLaMA3.
- 🧠 Uses `langchain`, `HuggingFaceEmbeddings`, and `ChromaDB` for document retrieval.
- 🦙 Answers are generated by `LLaMA3-8B` using Groq’s blazing-fast LLM API.

---

## 🔧 Setup Instructions

### 1. 📁 Organize Your Folders
- Put all **RBI policy PDFs** in:  
  `D1. Master Circulars/`
- Put all **financial/statistical data PDFs** in:  
  `data/`

### 2. 💾 Install Dependencies
Make sure you’ve got Python 3.9+ and then run:

```bash
pip install -r requirements.txt
```

Your `requirements.txt` should include:
```text
fastapi
uvicorn
langchain
langchain-community
langchain-core
langchain-groq
pydantic
requests
python-dotenv
googlesearch-python
chromadb
huggingface-hub
```

---

### 3. 🧠 Initialize Vectorstores

Vectorstores are created or loaded at server startup:
- `get_vectorstore()` loads the RBI policy vectorstore from `chroma_db/`
- `get_data_vectorstore()` loads the data document vectorstore from `data_chroma_db/`

They use HuggingFace's `all-MiniLM-L12-v2` for generating embeddings.

---

## 🚀 Running the API

```bash
python your_script_name.py
```

Or with uvicorn directly:
```bash
uvicorn your_script_name:app --reload
```

---

## 🔌 API Endpoints

### 1. `/api/policy-answer`
> Get answers strictly from the RBI circulars.

**POST Request:**
```json
{ "question": "What are the RBI guidelines for KYC?" }
```

**Response:**
```json
{ "answer": "The regulations state customers must submit identity and address proof..." }
```

---

### 2. `/api/data-answer`
> Get answers from large financial/statistical data PDFs.

---

### 3. `/api/web-answer`
> Uses Google Search + LLM to return useful summaries and links from the web.

---

### 4. `/api/combined-answer`
> Combines all three: policy, data, and web search in one response.

---

## 🔐 Secrets & Keys
Set these safely in your environment (you’ve hardcoded them—move to `.env` in prod):

- `GROQ_API_KEY`  
- `GOOGLE_API_KEY`  
- `SEARCH_ENGINE_ID`

---

## 🧪 Customizations & Notes

- Splitting PDFs is smart: large PDFs use bigger chunk sizes.
- Multiple chunking strategies are defined for better performance.
- Batching is optimized for both speed and memory usage.
- No citations are returned—just clear, regulation-based or data-backed answers.

---

## 💬 Example Question

```bash
curl -X POST http://localhost:8000/api/policy-answer \
-H "Content-Type: application/json" \
-d '{"question": "What is the regulation for bank account freezing?"}'
```

---

Let me know if you want a `Dockerfile`, Swagger UI setup, or deployment steps next!
